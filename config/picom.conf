backend = "glx";               # 使用 glx 后端，性能更佳
vsync = true;                  # 开启垂直同步，减少撕裂
glx-no-stencil = true;         # NVIDIA 驱动在 stencil 上偶发 bug，禁用以提升兼容性
glx-no-rebind-pixmap = true;   # 避免频繁 rebind pixmap，减少 30 系显卡闪烁
xrender-sync-fence = true;     # 配合驱动 fence，进一步降低撕裂
use-damage = true;             # 仅重绘发生变化的区域，降低 GPU 负载
unredir-if-possible = true;    # 全屏窗口尽可能不重定向，提升帧率
detect-transient = true;       # 更准确地识别瞬态窗口，避免误处理
detect-client-leader = true;   # 更好地识别客户端群组，配合 opacity 规则

fading = true;                  # 启用窗口淡入淡出动画效果，使窗口显示/隐藏更平滑
fade-in-step = 0.25;           # 淡入动画的每步透明度增量（0.0-1.0），值越小动画越平滑但越慢
fade-out-step = 0.25;          # 淡出动画的每步透明度减量（0.0-1.0），值越小动画越平滑但越慢
fade-delta = 3;                # 淡入淡出动画的帧间隔（毫秒），值越小动画越流畅但占用更多资源

corner-radius = 0;             # 窗口圆角半径（像素），0 表示无圆角，增大此值可让窗口四角变圆

inactive-opacity = 1.0;        # 非活动窗口的透明度（0.0-1.0），1.0 表示完全不透明，降低可突出活动窗口
active-opacity = 1.0;          # 活动窗口的透明度（0.0-1.0），1.0 表示完全不透明，通常保持 1.0 以确保可读性
frame-opacity = 1;           # 窗口边框的透明度（0.0-1.0），0.9 表示略微透明，可让边框更柔和

opacity-rule = [                # 窗口透明度规则列表，按顺序匹配，格式为 "透明度值:匹配条件"
    "100:class_g = 'alacritty'", # 为 alacritty 终端设置 100% 不透明度（完全不透明），class_g 表示匹配窗口类名
    "100:class_g = 'Xfce4-terminal'" # 为 xfce4-terminal 设置 90% 透明度
];                              # 可添加多条规则，如 "90:class_g = 'firefox'" 表示 Firefox 窗口 90% 不透明

# wintypes:
# {
#     popup_menu = { opacity = 0.9; };
#     dropdown_menu = { opacity = 0.9; };
# }
